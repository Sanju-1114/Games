/* CSS Variables for easier customization */
:root {
  --color-green: #00c853;
  --color-yellow: #ffd600;
  --color-red: #ff1744;
  --color-blue: #2979ff;
  --color-white: #ffffff;
  --color-black: #000000;
  --color-gray: #808080;
  
  --board-size: 550px;
  --border-radius-lg: 10px;
  --border-radius-md: 20px;
  --shadow-default: 0 4px 6px rgba(0, 0, 0, 0.3);
  --shadow-token: 3px 3px 5px rgba(0, 0, 0, 0.4);
}

/* Main container */
#main {
  margin-top: 2%;
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  align-content: center;
  align-items: center;
  gap: 2rem;
  padding: 1rem;
}

/* Game board */
#board {
  border: 5px solid var(--color-black);
  border-radius: var(--border-radius-lg);
  width: var(--board-size);
  height: var(--board-size);
  display: flex;
  flex-direction: column;
  box-shadow: var(--shadow-default);
  background-color: var(--color-white);
}

/* Board rows */
#row1,
#row3 {
  display: flex;
  width: 100%;
  height: 40%;
}

#row2 {
  display: flex;
  width: 100%;
  height: 20%;
}

/* Player home areas */
#green {
  width: 40%;
  background-color: var(--color-green);
  padding: 20px;
  position: relative;
}

#yellow {
  width: 40%;
  background-color: var(--color-yellow);
  padding: 20px;
  position: relative;
}

#red {
  width: 40%;
  background-color: var(--color-red);
  padding: 20px;
  position: relative;
}

#blue {
  width: 40%;
  background-color: var(--color-blue);
  padding: 20px;
  position: relative;
}

/* Inner white areas for tokens */
.inner {
  border-radius: var(--border-radius-md);
  background-color: var(--color-white);
  height: 100%;
  width: 100%;
  display: flex;
  justify-content: space-evenly;
  flex-direction: column;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

#upper,
#lower {
  display: flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
  padding: 5%;
  gap: 10%;
}

/* Token starting positions */
.g_green,
.g_yellow,
.g_red,
.g_blue {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 10%;
  width: 100%;
  height: 100%;
  box-shadow: var(--shadow-token);
  transition: transform 0.2s ease;
}

.g_green {
  background-color: var(--color-green);
}

.g_yellow {
  background-color: var(--color-yellow);
}

.g_red {
  background-color: var(--color-red);
}

.g_blue {
  background-color: var(--color-blue);
}

.g_green:hover,
.g_yellow:hover,
.g_red:hover,
.g_blue:hover {
  transform: scale(1.05);
}

/* Movement paths */
#yellow_move,
#red_move {
  display: grid;
  width: 20%;
  height: 100%;
  grid-template-columns: repeat(3, 1fr);
}

#green_move,
#blue_move {
  display: grid;
  width: 40%;
  height: 100%;
  grid-template-rows: repeat(3, 1fr);
  grid-template-columns: repeat(6, 1fr);
}

/* Board boxes */
.box {
  width: 100%;
  height: 100%;
  border: 1px solid var(--color-black);
  box-sizing: border-box;
  transition: background-color 0.2s ease;
}

.box-y {
  background-color: var(--color-yellow);
}

.box-g {
  background-color: var(--color-green);
}

.box-b {
  background-color: var(--color-blue);
}

.box-r {
  background-color: var(--color-red);
}

/* Center multicolor area */
#multicolor {
  width: 20%;
  height: 100%;
  background: linear-gradient(135deg, 
    var(--color-green) 0%, 
    var(--color-green) 25%, 
    var(--color-yellow) 25%, 
    var(--color-yellow) 50%, 
    var(--color-blue) 50%, 
    var(--color-blue) 75%, 
    var(--color-red) 75%, 
    var(--color-red) 100%);
  position: relative;
}

#multicolor::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  border-left: 40px solid transparent;
  border-right: 40px solid transparent;
  border-bottom: 60px solid var(--color-green);
}

/* Dice container */
#dice {
  display: inline-block;
  perspective: 1000px;
}

#die {
  padding: 50px;
  background-image: url("src/1.png");
  background-color: transparent;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border: 5px solid var(--color-black);
  border-radius: 5px;
  cursor: pointer;
  transition: transform 0.1s ease;
  box-shadow: var(--shadow-default);
  transform-style: preserve-3d;
}

#die:hover {
  transform: scale(1.05);
}

#die:active {
  transform: scale(0.95);
}

/* Dice rolling animation */
#die.rolling {
  animation: diceRoll 1s ease-in-out;
  pointer-events: none;
}

@keyframes diceRoll {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1);
  }
  10% {
    transform: rotateX(180deg) rotateY(180deg) rotateZ(90deg) scale(1.1);
  }
  20% {
    transform: rotateX(360deg) rotateY(90deg) rotateZ(180deg) scale(1);
  }
  30% {
    transform: rotateX(540deg) rotateY(270deg) rotateZ(270deg) scale(1.1);
  }
  40% {
    transform: rotateX(720deg) rotateY(450deg) rotateZ(360deg) scale(1);
  }
  50% {
    transform: rotateX(900deg) rotateY(540deg) rotateZ(450deg) scale(1.05);
  }
  60% {
    transform: rotateX(1080deg) rotateY(630deg) rotateZ(540deg) scale(1);
  }
  70% {
    transform: rotateX(1260deg) rotateY(720deg) rotateZ(630deg) scale(1.03);
  }
  80% {
    transform: rotateX(1440deg) rotateY(810deg) rotateZ(720deg) scale(1);
  }
  90% {
    transform: rotateX(1620deg) rotateY(900deg) rotateZ(810deg) scale(1.01);
  }
  100% {
    transform: rotateX(1800deg) rotateY(1080deg) rotateZ(900deg) scale(1);
  }
}

/* Alternate bouncy roll animation */
#die.rolling-bounce {
  animation: diceRollBounce 1.2s cubic-bezier(0.36, 0, 0.66, -0.56);
  pointer-events: none;
}

@keyframes diceRollBounce {
  0% {
    transform: rotateX(0deg) rotateY(0deg) translateY(0px) scale(1);
  }
  15% {
    transform: rotateX(360deg) rotateY(180deg) translateY(-50px) scale(1.1);
  }
  30% {
    transform: rotateX(720deg) rotateY(360deg) translateY(0px) scale(0.95);
  }
  35% {
    transform: rotateX(810deg) rotateY(450deg) translateY(-20px) scale(1.05);
  }
  45% {
    transform: rotateX(1080deg) rotateY(540deg) translateY(0px) scale(0.98);
  }
  50% {
    transform: rotateX(1170deg) rotateY(630deg) translateY(-10px) scale(1.02);
  }
  60% {
    transform: rotateX(1440deg) rotateY(720deg) translateY(0px) scale(0.99);
  }
  65% {
    transform: rotateX(1530deg) rotateY(810deg) translateY(-5px) scale(1.01);
  }
  75% {
    transform: rotateX(1800deg) rotateY(900deg) translateY(0px) scale(1);
  }
  100% {
    transform: rotateX(1800deg) rotateY(1080deg) translateY(0px) scale(1);
  }
}

/* Fast spin animation */
#die.rolling-fast {
  animation: diceRollFast 0.6s ease-out;
  pointer-events: none;
}

@keyframes diceRollFast {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
  }
  25% {
    transform: rotateX(450deg) rotateY(360deg) rotateZ(180deg);
  }
  50% {
    transform: rotateX(900deg) rotateY(720deg) rotateZ(360deg);
  }
  75% {
    transform: rotateX(1350deg) rotateY(1080deg) rotateZ(540deg);
  }
  100% {
    transform: rotateX(1800deg) rotateY(1440deg) rotateZ(720deg);
  }
}

/* Game tokens */
#b1, #b2, #b3, #b4,
#g1, #g2, #g3, #g4,
#y1, #y2, #y3, #y4,
#r1, #r2, #r3, #r4 {
  border: 2px solid var(--color-black);
  box-shadow: var(--shadow-token);
  border-radius: 50%;
  width: 90%;
  height: 90%;
  margin: auto;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
}

/* Blue tokens */
#b1, #b2, #b3, #b4 {
  background: radial-gradient(circle at 30% 30%, #4a9eff, var(--color-blue) 60%, #0d47a1);
}

/* Green tokens */
#g1, #g2, #g3, #g4 {
  background: radial-gradient(circle at 30% 30%, #5eff5e, var(--color-green) 60%, #00701a);
}

/* Yellow tokens */
#y1, #y2, #y3, #y4 {
  background: radial-gradient(circle at 30% 30%, #ffeb3b, var(--color-yellow) 60%, #f57f17);
}

/* Red tokens */
#r1, #r2, #r3, #r4 {
  background: radial-gradient(circle at 30% 30%, #ff6b6b, var(--color-red) 60%, #b71c1c);
}

/* Token hover effects */
#b1:hover, #b2:hover, #b3:hover, #b4:hover,
#g1:hover, #g2:hover, #g3:hover, #g4:hover,
#y1:hover, #y2:hover, #y3:hover, #y4:hover,
#r1:hover, #r2:hover, #r3:hover, #r4:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
}

/* Z-index layering for stacked tokens */
#r1, #b1, #g1, #y1 { z-index: 1; }
#r2, #b2, #g2, #y2 { z-index: 2; }
#r3, #b3, #g3, #y3 { z-index: 3; }
#r4, #b4, #g4, #y4 { z-index: 4; }

/* Responsive design */
@media (max-width: 768px) {
  :root {
    --board-size: 400px;
  }
  
  #main {
    flex-direction: column;
  }
  
  #die {
    padding: 30px;
  }
}

@media (max-width: 480px) {
  :root {
    --board-size: 300px;
  }
}